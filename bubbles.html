<!doctype html>
<meta charset="utf-8">
 
<!-- load D3js -->
<script src="http://www.d3plus.org/js/d3.js"></script>
 
<!-- load D3plus after D3js -->
<script src="http://www.d3plus.org/js/d3plus.js"></script>
 
<!-- create container element for visualization -->
<div id="viz"></div>

<style>
  
  body {
    background-color: red;
  }

  #d3plus_overlay {
    background-color: red;
  }

  svg#d3plus {
    background-color: red;
  }

  div#viz {
    margin: 25px auto;
    text-align: left;
    width: 700px;
    background-color: red;
  }

  div.color {
    border-left: 25px solid;
    display: inline-block;
    margin: 10px;
    padding: 0px 10px;
    width: 50px;
  }

  div.text {
    font: 11px "Helvetica", "Arial", sans-serif;
    margin: 5px 0px;
  }

</style>

<div id="viz"></div>
 
<script>

  // sample data array
  var agricultureData = [
    {"value": 19032, "name": "Organic fertilizer", "group": "Dry matter"},
    {"value": 373275, "name": "Mineral fertilizer", "group": "Dry matter"},
    {"value": 250000, "name": "Organic fertilizer", "group": "Phosphorus"},
    {"value": 840000, "name": "Mineral fertilizer","group": "Phosphorus"},
    {"value": 3347273, "name": "Plant uptake, grazing & green fodder", "group": "Dry matter"},
    {"value": 1200000, "name": "Plant uptake", "group": "Phosphorus"},
    {"value": 908824, "name": "No name", "group": "Dry matter"},
    {"value": 420000, "name": "Plant products for feed", "group": "Phosphorus"},
    {"value": 1200000, "name": "Manure (Feedback loop)", "group": "Phosphorus"},
    {"value": 1662577, "name": "Manure (Feedback loop)", "group": "Dry matter"},
    {"value": 960000, "name": "Husbandry and fur feed (Feedback loop)", "group": "Phosphorus"}
  ]

  // instantiate d3plus
  var visualization = d3plus.viz()
    .container("#viz")     // container DIV to hold the visualization
    .data(agricultureData)     // data to use with the visualization
    .type("bubbles")       // visualization type
    .id(["group", "name"]) // nesting keys
    .depth(10)
    .style("background-color", "#737373")              // 0-based depth
    .size("value")         // key name to size bubbles
    .color("red")        // color by each group
    .draw()                // finally, draw the visualization!

</script>
